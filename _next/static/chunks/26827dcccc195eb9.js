(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60125,e=>{"use strict";var t=e.i(43476),o=e.i(71645);let r=(0,o.createContext)(void 0);function a(){let e=(0,o.useContext)(r);if(!e)throw Error("BasketContext must be used in BasketContextProvider");return e}function s({children:e}){let[a,s]=(0,o.useState)({}),[u,c]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=localStorage.getItem("my-basket");e&&s(JSON.parse(e)),c(!0)},[]),(0,o.useEffect)(()=>{u&&localStorage.setItem("my-basket",JSON.stringify(a))},[a,u]);let l=(0,o.useMemo)(()=>Object.values(a).sort((e,t)=>e.product.Nombre.localeCompare(t.product.Nombre)),[a]),n=l.map(e=>e.product["Precio normal"]?e.product["Precio normal"]*e.quantity:0).reduce((e,t)=>e+t,0);return(0,t.jsx)(r.Provider,{value:{itemsForDisplay:l,addToBasket:(e,t)=>{s(o=>{let r=o[e.ID],a=r?r.quantity+t:t;return{...o,[e.ID]:{product:e,quantity:a}}})},clearBasket:()=>{s({})},total:n,isLoaded:u},children:e})}e.s(["BasketContextProvider",()=>s,"sortBasketItems",0,(e,t)=>e.product.Nombre.localeCompare(t.product.Nombre),"useBasketContext",()=>a])}]);